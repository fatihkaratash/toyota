# Application info
spring.application.name=main-application
logging.config=classpath:log4j2.xml
subscribers.config.path=classpath:subscribers.json
app.calculator.config.path=classpath:calculation-config.json
server.port=8082

# Redis configuration 
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.database=0
# spring.redis.password=
spring.redis.timeout=5000
app.cache.raw-rate.ttl-seconds=300
app.cache.calculated-rate.ttl-seconds=300

# Kafka Configuration
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3
spring.kafka.producer.batch-size=16384
spring.kafka.producer.buffer-memory=33554432
app.kafka.topic.raw-rates=financial-raw-rates
app.kafka.topic.calculated-rates=financial-calculated-rates
app.kafka.topic.partitions=3
app.kafka.topic.replication=1

# Thread Pool Configuration
app.subscriber.threadpool.coreSize=5
app.subscriber.threadpool.maxSize=10
app.subscriber.threadpool.queueCapacity=25
app.calculation.threadpool.coreSize=2
app.calculation.threadpool.maxSize=5
app.calculation.threadpool.queueCapacity=10

# Provider Configuration - Default Port Settings
app.provider.tcp.default-port=8081
app.provider.rest.default-port=8080

# Resilience4j Default Configuration
# Default Retry configuration
resilience4j.retry.configs.default.maxAttempts=3
resilience4j.retry.configs.default.waitDuration=500ms
resilience4j.retry.configs.default.retryExceptions=java.io.IOException,java.util.concurrent.TimeoutException,org.springframework.web.reactive.function.client.WebClientRequestException,org.springframework.web.reactive.function.client.WebClientResponseException$ServiceUnavailable

# Default Circuit Breaker configuration
resilience4j.circuitbreaker.configs.default.failureRateThreshold=50
resilience4j.circuitbreaker.configs.default.slowCallRateThreshold=100
resilience4j.circuitbreaker.configs.default.slowCallDurationThreshold=1s
resilience4j.circuitbreaker.configs.default.permittedNumberOfCallsInHalfOpenState=3
resilience4j.circuitbreaker.configs.default.slidingWindowType=COUNT_BASED
resilience4j.circuitbreaker.configs.default.slidingWindowSize=10
resilience4j.circuitbreaker.configs.default.minimumNumberOfCalls=5
resilience4j.circuitbreaker.configs.default.waitDurationInOpenState=30s
resilience4j.circuitbreaker.configs.default.automaticTransitionFromOpenToHalfOpenEnabled=true
resilience4j.circuitbreaker.configs.default.recordExceptions=java.io.IOException,java.util.concurrent.TimeoutException,org.springframework.web.reactive.function.client.WebClientRequestException
